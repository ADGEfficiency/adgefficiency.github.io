---
title: Typical Year Forecasting of Electricity Prices
date: 2022-08-07
categories:
  - Energy
excerpt: Spice up your life with this simple & flexible forecasting method.
toc: true
toc_sticky: true

---

An important challenge when doing technical modelling of energy systems is what data to use.  Often a technical model will model one year in isolation - using this reference year as the basis for a technical subsequent financial models.

This post shows how to create a **typical year forecast for electricity prices**.  

A typical year forecast uses historical data to create a **single, synthetic year of data**.  

The forecast is generated by selecting samples of historical data that are most similar to all the data.  It offers a more accurate estimate of performance


# Why use a typical year?

Typical year forecasting is useful when you want to create a forecast of a typical, average or ideal year.  

Financial modelling of potential energy projects (feasibilty analysis) requires financial modelling of multiple years.  

Often these multiple years of financial models are based on a single year of technical modelling.

Business modelling often uses a single year of data as the basis for technical models of energy projects - usually taking the most recent year of data.  

The central thesis of this post is that **taking the last year of data is a high variance way to model the long term (10-20 years) economics of a project**.  Depending on when we do our analysis, we could sample a high or low price year.  This change in project evaluation & economics is variance we want to avoid.

It offers a lower variance (i.e. more accurate) estimate of the performance of an energy project, by taking samples of the most typical data - where typical is defined by an error measurement between a statistic(s) measured across all the data and a statistic(s) measured only across a potential sample.

An example of a typical year forecast is a typical metrological year (TMY) forecast, used to create a dataset for a typical year of weather.  TMY forecasts are commonly used in predicting solar generation or building energy use.

Advantages:

- simple to create - no predictive modelling, gradients or iterative calculations,
- realistic - as the forecast is sampled from historical data
- flexible - can be used with any time series

Disadvantages:

- requires at least 3 years of historical data,
- requires selecting of statistics (& perhasp weighting)
- requires judgement RE which statistics are important 
- will perform poorly on multimodal data

## How to create a typical year forecast




## Typical year forecasting of Australian electricity prices

Here we will develop a simple typical year forecast, using 10 years of Australian electricity price data.  Here we are looking an prices for REGION TODO.

To demonstrate the idea, we will first limit ourselves to forecasting a single month - Januaray.

We will look back over all the Januaries we have in our 10 years of historical prices.  Let's first start by calculating the average across the entire dataset:

```
78.98127807646357
```

This single statistic is a long term statistic - in this case a long term average.

For each of the years we have we can measure the average price in each Januaray:

```
2010     58.725548
2011     52.437501
2012     29.251883
2013     75.362509
2014     63.878055
2015     50.029426
2016     61.339677
2017    102.548284
2018    108.600669
2019    170.125477
2020    100.418491
2021     33.703961
2022     85.873587
```

We can then compare this to the average across this same dataset - note that we average the unaveraged data (not the monthly averages).


This would lead us to selecting 2013 (which had an average price of `75.36`) as this is most similar to `78.98`.

Based on this historical average over all the data, we can select

```python
#  pseudocode for a typical year forecast using the mean to select months
mean = data.mean()
for month in (Jan, Feb ... Nov, Dec):
  for year in (historical data):
    sample_mean = month.year.mean()

selected_sample = argmin(mean - sample_mean)
```

We could also imagine doing this same process on a daily or weekly (instead of monthly) basis.


## Extending the forecast with more statistics

In the above example we only considered the mean when selecting a month.  The mean is a measurement of the central tendency of a distribution - using the mean to select a month will mean our forecast has a similar central point to the long term average.

We also want to try to match other characteristics of our price distribution.

An important feature of electricity prices is their variance - how spread out they are.  This is particularly important for batteries operating in wholesale arbitrage - this spread puts an upper limit on how profitable arbitrage is.

Let's measure the long term standard deviation of our prices:

```
559.9541818773309
```

```
2010     755.863051
2011     916.513885
2012      13.827160
2013     152.402239
2014     262.848404
2015      69.405050
2016     140.010692
2017     118.005135
2018     759.212910
2019    1227.496646
2020     519.930905
2021     153.930766
2022     530.069723
```

Using the same idea as above, if we considered only the standard deviation, we would select 2020 as the reference year for January.

With a typical year forecast, we can consider more statistics than a single mean.


```python
#  pseudocode for a typical year forecast using a mean & standard deviation to select months

mean = data.mean()
std = data.std()
for month in (Jan, Feb ... Nov, Dec):
  for year in (historical data):
    sample_mean = month.year.mean()
    sample_std = month.year.std()
    sample_error = (mean - sample_mean) + (std - sample_std)

selected_sample = argmin(sample_errors)
```

Could use number of time periods above X, Y - max price etc


## Multimodal data - a key flaw

A more sophisticated approach that could address

The problem with this method is that it requires domain expertise & human judgement - a fatal flaw in any technology.

Nevertheless, it's likely that 


## Further Work

Sample on a daily basis

How to deal with the joins between months



























Disadvantages:

- not suitable for dispatching assets in the short term,







## Further Reading

TMY forecasts














